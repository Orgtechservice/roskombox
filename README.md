# Роскомбокс

Роскомбокс — веб-приложение для проведения ручных и автоматических выгрузок реестра Роскомнадзора и проверок доступности сайтов из реестра.

## Описание

Роскомбокс разработан с использованием языка Python версии 3.х и фреймворка Django версии 1.9.4. Также имеется ряд других зависимостей:

* suds — для взаимодействия по протоколу SOAP
* lxml — для работы с XML-файлами
* django-crispy-forms — для генерации форм
* django-bootstrap-pagination — для постраничного вывода
* django-jsonview — для работы JSON API
* django-sendmail-backend — для отправки почты через локальный MTA
* mysqlclient — для работы с СУБД MySQL
* requests — для тестовых обращений к сайтам из реестра
* uwsgidecorators — для удобного взаимодействия с uWSGI API

В качестве app-сервера используется uWSGI (другие app-серверы не поддерживаются, так как используются некоторые специфические возможности uWSGI); для frontend-сервера рекомендуется использовать nginx.

## Установка

Установку приложения рассмотрим на примере операционной системы Raspbian Jessie (дистрибутив Debian для Raspberry Pi). На «настольной» или «серверной» версии Debian установка производится схожим образом.

Сначала необходимо установить сам Raspbian. Его установка [описана](https://www.raspberrypi.org/downloads/raspbian/) на официальном сайте Raspberry Pi. Затем необходимо установить MySQL, uWSGI и nginx:

```bash
apt-get update
apt-get install mysql-server uwsgi uwsgi-emperor uwsgi-plugin-python3
```

Все три сервера будут автоматически добавлены в автозагрузку. Однако, нам необходимо их настроить. Начнём с настройки MySQL. Она будет заключаться в создании базы данных для нашего приложения.

```bash
mysql -u root -p
```

Введя пароль администратора, попадаем в командную строку MySQL-клиента, где необходимо создать базу данных:

```sql
CREATE DATABASE roskombox_db CHARACTER SET UTF8;
GRANT ALL ON roskombox_db.* TO roskombox@localhost IDENTIFIED BY '*********';
FLUSH PRIVILEGES;
```

Пароль, заданный пользователю roskombox@localhost необходимо сохранить, он понадобится позднее.

